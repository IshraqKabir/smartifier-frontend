{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/ishraqkabir/workspace/smartifier-frontend/Components/QuizTest/Timer/Timer.tsx\";\nimport React, { useEffect, useState } from \"react\";\n\nconst Timer = ({\n  start_time,\n  duration\n}) => {\n  const {\n    0: secondsRemaining,\n    1: setSecondsRemaining\n  } = useState(getTimeRemainingInSeconds(start_time, duration));\n  const {\n    0: timeRemaining,\n    1: setTimeRemaing\n  } = useState(\"\");\n  useEffect(() => {\n    setInterval(() => {\n      setSecondsRemaining(getTimeRemainingInSeconds(start_time, duration));\n    }, 200);\n  }, []);\n  useEffect(() => {\n    setTimeRemaing(parseSecondsToClock(secondsRemaining));\n  }, [secondsRemaining]);\n  return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: `${timeRemaining}`\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 10\n  }, this);\n};\n\nexport default Timer;\n\nfunction getTimeRemainingInSeconds(start_time, duration) {\n  const totalDurationInSeconds = getSecondsFromDuration(duration);\n  const start = new Date(`${start_time}`);\n  const now = new Date();\n  const end = new Date(`${start_time}`);\n  end.setTime(start.getTime() + totalDurationInSeconds * 1000);\n  const secondsLeft = (end.getTime() - now.getTime()) / 1000;\n  return Math.floor(secondsLeft);\n}\n\nfunction getSecondsFromDuration(duration) {\n  const [hours, mins, seconds] = duration.split(\":\");\n  let totalSeconds = 0;\n  totalSeconds += parseInt(hours) * 60 * 60;\n  totalSeconds += parseInt(mins) * 60 * 60;\n  totalSeconds += parseInt(seconds);\n  return totalSeconds;\n}\n\nfunction parseSecondsToClock(secondsRemaining) {\n  const mins = Math.floor(secondsRemaining / 60);\n  const seconds = Math.floor(secondsRemaining % 60);\n  return `${mins}:${seconds}`;\n}","map":{"version":3,"sources":["/home/ishraqkabir/workspace/smartifier-frontend/Components/QuizTest/Timer/Timer.tsx"],"names":["React","useEffect","useState","Timer","start_time","duration","secondsRemaining","setSecondsRemaining","getTimeRemainingInSeconds","timeRemaining","setTimeRemaing","setInterval","parseSecondsToClock","totalDurationInSeconds","getSecondsFromDuration","start","Date","now","end","setTime","getTime","secondsLeft","Math","floor","hours","mins","seconds","split","totalSeconds","parseInt"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;;AAOA,MAAMC,KAAuB,GAAG,CAAC;AAAEC,EAAAA,UAAF;AAAcC,EAAAA;AAAd,CAAD,KAA8B;AAC5D,QAAM;AAAA,OAACC,gBAAD;AAAA,OAAmBC;AAAnB,MAA0CL,QAAQ,CACtDM,yBAAyB,CAACJ,UAAD,EAAaC,QAAb,CAD6B,CAAxD;AAIA,QAAM;AAAA,OAACI,aAAD;AAAA,OAAgBC;AAAhB,MAAkCR,QAAQ,CAAS,EAAT,CAAhD;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACdU,IAAAA,WAAW,CAAC,MAAM;AAChBJ,MAAAA,mBAAmB,CAACC,yBAAyB,CAACJ,UAAD,EAAaC,QAAb,CAA1B,CAAnB;AACD,KAFU,EAER,GAFQ,CAAX;AAGD,GAJQ,EAIN,EAJM,CAAT;AAMAJ,EAAAA,SAAS,CAAC,MAAM;AACdS,IAAAA,cAAc,CAACE,mBAAmB,CAACN,gBAAD,CAApB,CAAd;AACD,GAFQ,EAEN,CAACA,gBAAD,CAFM,CAAT;AAIA,sBAAO;AAAA,cAAK,GAAEG,aAAc;AAArB;AAAA;AAAA;AAAA;AAAA,UAAP;AACD,CAlBD;;AAoBA,eAAeN,KAAf;;AAEA,SAASK,yBAAT,CACEJ,UADF,EAEEC,QAFF,EAGU;AACR,QAAMQ,sBAA8B,GAAGC,sBAAsB,CAACT,QAAD,CAA7D;AAEA,QAAMU,KAAK,GAAG,IAAIC,IAAJ,CAAU,GAAEZ,UAAW,EAAvB,CAAd;AACA,QAAMa,GAAG,GAAG,IAAID,IAAJ,EAAZ;AACA,QAAME,GAAG,GAAG,IAAIF,IAAJ,CAAU,GAAEZ,UAAW,EAAvB,CAAZ;AACAc,EAAAA,GAAG,CAACC,OAAJ,CAAYJ,KAAK,CAACK,OAAN,KAAkBP,sBAAsB,GAAG,IAAvD;AAEA,QAAMQ,WAAmB,GAAG,CAACH,GAAG,CAACE,OAAJ,KAAgBH,GAAG,CAACG,OAAJ,EAAjB,IAAkC,IAA9D;AAEA,SAAOE,IAAI,CAACC,KAAL,CAAWF,WAAX,CAAP;AACD;;AAED,SAASP,sBAAT,CAAgCT,QAAhC,EAA0D;AACxD,QAAM,CAACmB,KAAD,EAAQC,IAAR,EAAcC,OAAd,IAAyBrB,QAAQ,CAACsB,KAAT,CAAe,GAAf,CAA/B;AAEA,MAAIC,YAAoB,GAAG,CAA3B;AACAA,EAAAA,YAAY,IAAIC,QAAQ,CAACL,KAAD,CAAR,GAAkB,EAAlB,GAAuB,EAAvC;AACAI,EAAAA,YAAY,IAAIC,QAAQ,CAACJ,IAAD,CAAR,GAAiB,EAAjB,GAAsB,EAAtC;AACAG,EAAAA,YAAY,IAAIC,QAAQ,CAACH,OAAD,CAAxB;AAEA,SAAOE,YAAP;AACD;;AAED,SAAShB,mBAAT,CAA6BN,gBAA7B,EAA+D;AAC7D,QAAMmB,IAAI,GAAGH,IAAI,CAACC,KAAL,CAAYjB,gBAAgB,GAAG,EAA/B,CAAb;AACA,QAAMoB,OAAO,GAAGJ,IAAI,CAACC,KAAL,CAAWjB,gBAAgB,GAAG,EAA9B,CAAhB;AAEA,SAAQ,GAAEmB,IAAK,IAAGC,OAAQ,EAA1B;AACD","sourcesContent":["import React, { useEffect, useState } from \"react\";\n\ninterface IProps {\n  start_time: string;\n  duration: string;\n}\n\nconst Timer: React.FC<IProps> = ({ start_time, duration }) => {\n  const [secondsRemaining, setSecondsRemaining] = useState<number>(\n    getTimeRemainingInSeconds(start_time, duration)\n  );\n\n  const [timeRemaining, setTimeRemaing] = useState<string>(\"\");\n\n  useEffect(() => {\n    setInterval(() => {\n      setSecondsRemaining(getTimeRemainingInSeconds(start_time, duration));\n    }, 200);\n  }, []);\n\n  useEffect(() => {\n    setTimeRemaing(parseSecondsToClock(secondsRemaining));\n  }, [secondsRemaining]);\n\n  return <p>{`${timeRemaining}`}</p>;\n};\n\nexport default Timer;\n\nfunction getTimeRemainingInSeconds(\n  start_time: string,\n  duration: string\n): number {\n  const totalDurationInSeconds: number = getSecondsFromDuration(duration);\n\n  const start = new Date(`${start_time}`);\n  const now = new Date();\n  const end = new Date(`${start_time}`);\n  end.setTime(start.getTime() + totalDurationInSeconds * 1000);\n\n  const secondsLeft: number = (end.getTime() - now.getTime()) / 1000;\n\n  return Math.floor(secondsLeft);\n}\n\nfunction getSecondsFromDuration(duration: string): number {\n  const [hours, mins, seconds] = duration.split(\":\");\n\n  let totalSeconds: number = 0;\n  totalSeconds += parseInt(hours) * 60 * 60;\n  totalSeconds += parseInt(mins) * 60 * 60;\n  totalSeconds += parseInt(seconds);\n\n  return totalSeconds;\n}\n\nfunction parseSecondsToClock(secondsRemaining: number): string {\n  const mins = Math.floor((secondsRemaining / 60));\n  const seconds = Math.floor(secondsRemaining % 60);\n\n  return `${mins}:${seconds}`;\n}\n"]},"metadata":{},"sourceType":"module"}