{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useEffect } from \"react\";\nimport useLocalState from \"../../../custom-hooks/useLocalState\";\nexport default function useTestState(quizId, questions) {\n  _s();\n\n  var _useLocalState = useLocalState(\"user\", \"\"),\n      _useLocalState2 = _slicedToArray(_useLocalState, 1),\n      user = _useLocalState2[0];\n\n  var _useLocalState3 = useLocalState(\"\".concat(user === null || user === void 0 ? void 0 : user.email, \"-quiz\").concat(quizId, \"-answers\"), {}),\n      _useLocalState4 = _slicedToArray(_useLocalState3, 2),\n      answers = _useLocalState4[0],\n      setAnswersState = _useLocalState4[1];\n\n  var _useLocalState5 = useLocalState(\"\".concat(user === null || user === void 0 ? void 0 : user.email, \"-quiz\").concat(quizId, \"-current-question-index\"), 0),\n      _useLocalState6 = _slicedToArray(_useLocalState5, 2),\n      currentQuestionIndex = _useLocalState6[0],\n      setCurrentQuestionIndex = _useLocalState6[1];\n\n  useEffect();\n\n  var setAnswers = function setAnswers(optionID, question, text) {\n    setAnswersState(function (state) {\n      var tempAnswers = _objectSpread({}, state);\n\n      if (question.answer_type === \"multiple_choice\") {\n        var options = tempAnswers[\"\".concat(question === null || question === void 0 ? void 0 : question.id)];\n\n        if (options && options.includes(optionID)) {\n          tempAnswers = _objectSpread(_objectSpread({}, state), {}, _defineProperty({}, \"\".concat(question === null || question === void 0 ? void 0 : question.id), []));\n        } else {\n          tempAnswers = _objectSpread(_objectSpread({}, state), {}, _defineProperty({}, \"\".concat(question === null || question === void 0 ? void 0 : question.id), [optionID]));\n        }\n      } else if ((question === null || question === void 0 ? void 0 : question.answer_type) === \"checkboxes\") {\n        var _options = tempAnswers[\"\".concat(question === null || question === void 0 ? void 0 : question.id)];\n\n        if (_options && _options.includes(optionID)) {\n          tempAnswers = _objectSpread(_objectSpread({}, state), {}, _defineProperty({}, \"\".concat(question === null || question === void 0 ? void 0 : question.id), _options.filter(function (option) {\n            return option != optionID;\n          })));\n        } else if (_options && !_options.includes(optionID)) {\n          tempAnswers = _objectSpread(_objectSpread({}, state), {}, _defineProperty({}, \"\".concat(question === null || question === void 0 ? void 0 : question.id), [].concat(_toConsumableArray(_options), [optionID])));\n        } else {\n          tempAnswers = _objectSpread(_objectSpread({}, state), {}, _defineProperty({}, \"\".concat(question === null || question === void 0 ? void 0 : question.id), [optionID]));\n        }\n      } else if ((question === null || question === void 0 ? void 0 : question.answer_type) === \"short_paragraph\") {\n        if (!text) return _objectSpread({}, tempAnswers);\n        tempAnswers = _objectSpread(_objectSpread({}, state), {}, _defineProperty({}, \"\".concat(question === null || question === void 0 ? void 0 : question.id), text));\n      }\n\n      return _objectSpread({}, tempAnswers);\n    });\n  };\n\n  var goToNextQuestion = function goToNextQuestion() {\n    if (currentQuestionIndex >= (questions === null || questions === void 0 ? void 0 : questions.length) - 1) return;\n    setCurrentQuestionIndex(currentQuestionIndex + 1);\n  };\n\n  var goToPreviousQuestion = function goToPreviousQuestion() {\n    if (currentQuestionIndex <= 0) return;\n    setCurrentQuestionIndex(currentQuestionIndex - 1);\n  };\n\n  var showPrevious = currentQuestionIndex != 0;\n  var showNext = currentQuestionIndex < (questions === null || questions === void 0 ? void 0 : questions.length) - 1;\n  return {\n    answers: answers,\n    setAnswers: setAnswers,\n    currentQuestionIndex: currentQuestionIndex,\n    goToNextQuestion: goToNextQuestion,\n    goToPreviousQuestion: goToPreviousQuestion,\n    showPrevious: showPrevious,\n    showNext: showNext\n  };\n}\n\n_s(useTestState, \"CyyFeHAHu3NkBG0F1VOiKg7Vzbs=\", false, function () {\n  return [useLocalState, useLocalState, useLocalState];\n});","map":{"version":3,"sources":["/home/ishraqkabir/workspace/smartifier-frontend/Components/QuizTest/Questions/useTestState.tsx"],"names":["useEffect","useLocalState","useTestState","quizId","questions","user","email","answers","setAnswersState","currentQuestionIndex","setCurrentQuestionIndex","setAnswers","optionID","question","text","state","tempAnswers","answer_type","options","id","includes","filter","option","goToNextQuestion","length","goToPreviousQuestion","showPrevious","showNext"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\nimport useLocalState from \"../../../custom-hooks/useLocalState\";\nimport IQuestion from \"../../../Models/IQuestion\";\n\nexport default function useTestState(quizId: number, questions: IQuestion[]) {\n  const [user] = useLocalState(\"user\", \"\");\n  const [answers, setAnswersState] = useLocalState(\n    `${user?.email}-quiz${quizId}-answers`,\n    {}\n  );\n\n  const [currentQuestionIndex, setCurrentQuestionIndex] = useLocalState(\n    `${user?.email}-quiz${quizId}-current-question-index`,\n    0\n  );\n\n  useEffect()\n\n  const setAnswers = (optionID: number, question: IQuestion, text?: string) => {\n    setAnswersState((state: any) => {\n      let tempAnswers = { ...state };\n\n      if (question.answer_type === \"multiple_choice\") {\n        const options = tempAnswers[`${question?.id}`];\n\n        if (options && options.includes(optionID)) {\n          tempAnswers = { ...state, [`${question?.id}`]: [] };\n        } else {\n          tempAnswers = { ...state, [`${question?.id}`]: [optionID] };\n        }\n      } else if (question?.answer_type === \"checkboxes\") {\n        const options = tempAnswers[`${question?.id}`];\n\n        if (options && options.includes(optionID)) {\n          tempAnswers = {\n            ...state,\n            [`${question?.id}`]: options.filter(\n              (option: number) => option != optionID\n            ),\n          };\n        } else if (options && !options.includes(optionID)) {\n          tempAnswers = {\n            ...state,\n            [`${question?.id}`]: [...options, optionID],\n          };\n        } else {\n          tempAnswers = {\n            ...state,\n            [`${question?.id}`]: [optionID],\n          };\n        }\n      } else if (question?.answer_type === \"short_paragraph\") {\n        if (!text) return { ...tempAnswers };\n        tempAnswers = {\n          ...state,\n          [`${question?.id}`]: text,\n        };\n      }\n\n      return { ...tempAnswers };\n    });\n  };\n\n  const goToNextQuestion = () => {\n    if (currentQuestionIndex >= questions?.length - 1) return;\n    setCurrentQuestionIndex(currentQuestionIndex + 1);\n  };\n\n  const goToPreviousQuestion = () => {\n    if (currentQuestionIndex <= 0) return;\n    setCurrentQuestionIndex(currentQuestionIndex - 1);\n  };\n\n  const showPrevious: boolean = currentQuestionIndex != 0;\n  const showNext: boolean = currentQuestionIndex < questions?.length - 1;\n\n  return {\n    answers,\n    setAnswers,\n    currentQuestionIndex,\n    goToNextQuestion,\n    goToPreviousQuestion,\n    showPrevious,\n    showNext,\n  };\n}\n"]},"metadata":{},"sourceType":"module"}