{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport useLocalState from \"../../custom-hooks/useLocalState\";\nimport IQuiz from \"../../Models/IQuiz\";\nimport startTest from \"../../repository/QuizTest/startTest\";\nexport default function useQuizTest(quizId) {\n  _s();\n\n  var _useLocalState = useLocalState(\"user\", \"\"),\n      _useLocalState2 = _slicedToArray(_useLocalState, 1),\n      user = _useLocalState2[0];\n\n  var _useState = useState(false),\n      isLoading = _useState[0],\n      setIsLoading = _useState[1];\n\n  var _useState2 = useState(\"\"),\n      testStatus = _useState2[0],\n      setTestStatus = _useState2[1];\n\n  var _ref = useState < IQuiz | {},\n      _ref2 = _slicedToArray(_ref, 2),\n      quiz = _ref2[0],\n      setQuiz = _ref2[1];\n\n  useEffect(function () {\n    if (!user || !(user === null || user === void 0 ? void 0 : user.token)) return;\n    fetchStartTest();\n  }, []);\n\n  var fetchStartTest = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setIsLoading(true);\n              _context.next = 3;\n              return startTest(quizId, user === null || user === void 0 ? void 0 : user.token);\n\n            case 3:\n              response = _context.sent;\n              console.log(response);\n              setTestStatus(response === null || response === void 0 ? void 0 : response.status);\n              setIsLoading(false);\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function fetchStartTest() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  return {\n    isLoading: isLoading,\n    testStatus: testStatus\n  };\n}\n\n_s(useQuizTest, \"9LK5NpR8e1/ludfUGd6MXIubfwM=\", false, function () {\n  return [useLocalState];\n});","map":{"version":3,"sources":["/home/ishraqkabir/workspace/smartifier-frontend/Components/QuizTest/useQuizTest.tsx"],"names":["useEffect","useState","useLocalState","IQuiz","startTest","useQuizTest","quizId","user","isLoading","setIsLoading","testStatus","setTestStatus","quiz","setQuiz","token","fetchStartTest","response","console","log","status"],"mappings":";;;;;;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,aAAP,MAA0B,kCAA1B;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AAEA,OAAOC,SAAP,MAAsB,qCAAtB;AAEA,eAAe,SAASC,WAAT,CAAqBC,MAArB,EAAqC;AAAA;;AAAA,uBACnCJ,aAAa,CAAC,MAAD,EAAS,EAAT,CADsB;AAAA;AAAA,MAC3CK,IAD2C;;AAAA,kBAEhBN,QAAQ,CAAC,KAAD,CAFQ;AAAA,MAE3CO,SAF2C;AAAA,MAEhCC,YAFgC;;AAAA,mBAGdR,QAAQ,CAAmB,EAAnB,CAHM;AAAA,MAG3CS,UAH2C;AAAA,MAG/BC,aAH+B;;AAAA,aAI1BV,QAAQ,GAACE,KAAT,GAAkB,EAJQ;AAAA;AAAA,MAI3CS,IAJ2C;AAAA,MAIrCC,OAJqC;;AAMlDb,EAAAA,SAAS,CAAC,YAAM;AACd,QAAI,CAACO,IAAD,IAAS,EAACA,IAAD,aAACA,IAAD,uBAACA,IAAI,CAAEO,KAAP,CAAb,EAA2B;AAC3BC,IAAAA,cAAc;AACf,GAHQ,EAGN,EAHM,CAAT;;AAKA,MAAMA,cAAc;AAAA,yEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AACrBN,cAAAA,YAAY,CAAC,IAAD,CAAZ;AADqB;AAAA,qBAGEL,SAAS,CAACE,MAAD,EAASC,IAAT,aAASA,IAAT,uBAASA,IAAI,CAAEO,KAAf,CAHX;;AAAA;AAGfE,cAAAA,QAHe;AAKrBC,cAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AAEAL,cAAAA,aAAa,CAACK,QAAD,aAACA,QAAD,uBAACA,QAAQ,CAAEG,MAAX,CAAb;AAEAV,cAAAA,YAAY,CAAC,KAAD,CAAZ;;AATqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAdM,cAAc;AAAA;AAAA;AAAA,KAApB;;AAYA,SAAO;AACLP,IAAAA,SAAS,EAATA,SADK;AAELE,IAAAA,UAAU,EAAVA;AAFK,GAAP;AAID;;GA3BuBL,W;UACPH,a","sourcesContent":["import { useEffect, useState } from \"react\";\nimport useLocalState from \"../../custom-hooks/useLocalState\";\nimport IQuiz from \"../../Models/IQuiz\";\nimport TTestStatus from \"../../Models/TTestStatus\";\nimport startTest from \"../../repository/QuizTest/startTest\";\n\nexport default function useQuizTest(quizId: number) {\n  const [user] = useLocalState(\"user\", \"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [testStatus, setTestStatus] = useState<TTestStatus | \"\">(\"\");\n  const [quiz, setQuiz] = useState<IQuiz | ({})\n\n  useEffect(() => {\n    if (!user || !user?.token) return;\n    fetchStartTest();\n  }, []);\n\n  const fetchStartTest = async () => {\n    setIsLoading(true);\n\n    const response = await startTest(quizId, user?.token);\n\n    console.log(response);\n\n    setTestStatus(response?.status);\n\n    setIsLoading(false);\n  };\n\n  return {\n    isLoading,\n    testStatus,\n  };\n}\n"]},"metadata":{},"sourceType":"module"}