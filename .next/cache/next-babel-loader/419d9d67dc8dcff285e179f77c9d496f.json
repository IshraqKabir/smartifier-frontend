{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useState } from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport axios from \"axios\";\nimport { local_backend_url } from \"../../../url\";\nimport useLocalState from \"../../../custom-hooks/useLocalState\";\nimport { Box } from \"@material-ui/core\";\n\nfunction SimpleDialog(props) {\n  var onClose = props.onClose,\n      open = props.open,\n      handleSubmit = props.handleSubmit;\n\n  var _useState = useState(false),\n      isSubmitting = _useState[0],\n      setIsSubmitting = _useState[1];\n\n  var handleClose = function handleClose() {\n    onClose();\n  };\n\n  return /*#__PURE__*/_jsx(Dialog, {\n    onClose: handleClose,\n    \"aria-labelledby\": \"simple-dialog-title\",\n    open: open,\n    children: /*#__PURE__*/_jsxs(DialogueContaier, {\n      children: [/*#__PURE__*/_jsx(Title, {\n        children: \"Are you sure you want to submit the test?\"\n      }), /*#__PURE__*/_jsxs(ButtonsContainer, {\n        children: [/*#__PURE__*/_jsx(WarningButton, {\n          onClick: function onClick() {\n            // if (!isSubmitting)\n            handleSubmit();\n            setIsSubmitting(true);\n          },\n          children: isSubmitting ? \"Submitting...\" : \"Yes\"\n        }), /*#__PURE__*/_jsx(Button, {\n          onClick: handleClose,\n          children: \"No\"\n        })]\n      })]\n    })\n  });\n}\n\nvar DialogueContaier = withStyles({\n  root: {\n    padding: \"2rem\"\n  }\n})(Box);\nvar Title = withStyles({\n  root: {\n    fontWeight: 600,\n    fontSize: \"1.3rem\",\n    margin: \"1rem auto\"\n  }\n})(Box);\nvar ButtonsContainer = withStyles({\n  root: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-around\"\n  }\n})(Box);\nvar WarningButton = withStyles({\n  root: {\n    backgroundColor: \"red\",\n    color: \"white\",\n    \"&:hover\": {\n      color: \"red\"\n    }\n  }\n})(Button);\n\nvar Submit = function Submit(_ref) {\n  var answers = _ref.answers,\n      test_id = _ref.test_id,\n      setAnswersState = _ref.setAnswersState;\n\n  var _useLocalState = useLocalState(\"user\", \"\"),\n      _useLocalState2 = _slicedToArray(_useLocalState, 1),\n      user = _useLocalState2[0];\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      open = _React$useState2[0],\n      setOpen = _React$useState2[1];\n\n  var handleClickOpen = function handleClickOpen() {\n    setOpen(true);\n  };\n\n  var handleSubmit = function handleSubmit() {\n    axios.post(\"\".concat(local_backend_url, \"/api/quiz-test/answers/store\"), {\n      test_id: test_id,\n      options: answers\n    }, {\n      headers: {\n        Accept: \"Application/json\",\n        Authorization: \"Bearer \".concat(user.token)\n      }\n    }).then(function (response) {\n      console.log(response.data);\n      setAnswersState({});\n      window.location.href = \"/user/profile\";\n    })[\"catch\"](function () {});\n  };\n\n  var handleClose = function handleClose() {\n    setOpen(false);\n  };\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    children: [/*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsx(SubmitButton, {\n      variant: \"outlined\",\n      onClick: handleClickOpen,\n      children: \"Submit\"\n    }), /*#__PURE__*/_jsx(SimpleDialog, {\n      open: open,\n      onClose: handleClose,\n      handleSubmit: handleSubmit\n    })]\n  });\n};\n\nexport default Submit;\nvar SubmitButton = withStyles({\n  root: {\n    color: \"white\",\n    border: \"1px solid white\",\n    marginBottom: \"2rem\"\n  }\n})(Button);","map":null,"metadata":{},"sourceType":"module"}