(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[577],{6579:function(e,r,n){"use strict";n.d(r,{Z:function(){return h}});var t=n(5893),a=n(7294),i=n(6445),o=n(3700),s=n(6718),l=n(7397),u=n(7812),c=n(2318),d=n(1270),m=n(1738);function h(e){var r=e.value,n=e.handleChange,h=e.touched,f=e.error,p=e.id,g=void 0===p?"password":p,v=e.label,x=void 0===v?"Password":v,b=(0,a.useState)(!1),w=b[0],y=b[1];return(0,t.jsxs)(i.Z,{variant:"outlined",fullWidth:!0,style:{margin:"0.5rem 0rem"},error:h&&Boolean(f),children:[(0,t.jsx)(o.Z,{htmlFor:"outlined-adornment-password",children:x}),(0,t.jsx)(s.Z,{id:g,name:g,label:x,fullWidth:!0,type:w?"text":"password",value:r,onChange:n,error:h&&Boolean(f),endAdornment:(0,t.jsx)(l.Z,{position:"end",children:(0,t.jsx)(u.Z,{"aria-label":"toggle password visibility",onClick:function(){return y((function(e){return!e}))},edge:"end",children:w?(0,t.jsx)(d.Z,{}):(0,t.jsx)(m.Z,{})})}),labelWidth:70}),h&&f&&(0,t.jsx)(c.Z,{variant:"caption",color:"error",children:f})]})}},7577:function(e,r,n){"use strict";n.d(r,{Z:function(){return we}});var t=n(5893),a=n(6156),i=n(7294),o=n(1120),s=n(3681),l=n(5675),u=n(1664),c=n(1163),d=(0,o.Z)({root:(0,a.Z)({color:"white",fontSize:"small",textTransform:"capitalize",cursor:"pointer","&:hover":{transition:"0.3s",fontSize:16}},"@media (max-width: 700px)",{marginRight:"1rem"})}),m=function(e){var r=e.title,n=e.link,a=e.setShowLoading,i=d(),o=(0,c.useRouter)();return(0,t.jsx)("div",{className:i.root,onClick:function(){o.pathname!==n&&a(!0),o.push("".concat(n))},children:(0,t.jsx)(u.default,{href:"".concat(n),children:(0,t.jsx)("a",{style:{textDecoration:"none",color:"white"},children:r})})})},h=(0,o.Z)({navItemsContainer:{display:"flex",justifyContent:"space-around",alignItems:"center",color:"white",fontSize:"small",overflow:"hidden"}}),f=function(e){var r=e.setShowLoading,n=h();return(0,t.jsxs)("div",{className:n.navItemsContainer,children:[(0,t.jsx)(m,{title:"Home",link:"/",setShowLoading:r}),(0,t.jsx)(m,{title:"Quizzes",link:"/quizzes",setShowLoading:r}),(0,t.jsx)(m,{title:"Blog",link:"/blog/posts",setShowLoading:r})," "]})},p=n(1125),g=n(3099),v=n(2370),x=n(4170),b=n(2318),w=(0,i.createContext)(null);function y(){var e=(0,i.useContext)(w),r=e.currentTab,n=e.setCurrentTab,a=j({currentTab:r});return(0,t.jsxs)("div",{className:a.container,children:[(0,t.jsx)("div",{className:"".concat(a.singleHeader," ").concat(a.signin),onClick:function(){n("signin")},children:(0,t.jsx)(b.Z,{variant:"subtitle1",style:{fontWeight:600},children:"Log In"})}),(0,t.jsx)("div",{className:"".concat(a.singleHeader," ").concat(a.signup),onClick:function(){n("signup")},children:(0,t.jsx)(b.Z,{variant:"subtitle1",style:{fontWeight:600},children:"Register"})})]})}var j=(0,o.Z)({container:{display:"flex",width:"100%",alignItems:"center",cursor:"pointer"},singleHeader:{width:"50%",textAlign:"center",padding:"1rem",border:"1px solid lightgray"},signin:{backgroundColor:function(e){return"signin"===e.currentTab?"inherit":"#f5f5f5"}},signup:{backgroundColor:function(e){return"signup"===e.currentTab?"inherit":"#f5f5f5"}}}),C=n(7757),k=n.n(C),Z=n(2137),N=n(7513),P=n(9669),S=n.n(P);function T(e,r){return E.apply(this,arguments)}function E(){return(E=(0,Z.Z)(k().mark((function e(r,n){var t;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S().post("/api/auth/email-signin",{email:r,password:n}).then((function(e){return e.data}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){return A.apply(this,arguments)}function A(){return(A=(0,Z.Z)(k().mark((function e(r){var n;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S().post("/api/auth/email-signup",r).then((function(e){return e.data}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e,r,n,t){return F.apply(this,arguments)}function F(){return(F=(0,Z.Z)(k().mark((function e(r,n,t,a){var i;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S().post("/api/auth/reset-password",{email:r,code:n,password:t,confirmPassword:a}).then((function(e){return e.data}));case 2:return i=e.sent,e.abrupt("return",i);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){return(R=(0,Z.Z)(k().mark((function e(r,n){var t;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S().post("/api/auth/send-email-verification-mail",{email:r,password:n}).then((function(e){return e.data}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e){return W.apply(this,arguments)}function W(){return(W=(0,Z.Z)(k().mark((function e(r){var n;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S().post("/api/auth/send-password-reset-mail",{email:r}).then((function(e){return e.data}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e,r,n){return V.apply(this,arguments)}function V(){return(V=(0,Z.Z)(k().mark((function e(r,n,t){var a;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S().post("/api/auth/verify-email",{email:r,password:n,code:t}).then((function(e){return e.data}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var D="Something went wrong. Please Try again.";function z(e,r){var n=(0,i.useState)("signin"),t=n[0],a=n[1],o=(0,i.useState)(""),s=o[0],l=o[1],u=(0,i.useState)(""),c=u[0],d=u[1],m=(0,i.useState)(!1),h=m[0],f=m[1],p=(0,i.useState)(""),g=p[0],v=p[1],x=(0,i.useState)(""),b=x[0],w=x[1],y=(0,i.useState)(""),j=y[0],C=y[1],P=(0,i.useState)(""),S=P[0],E=P[1],A=(0,i.useState)(!1),F=A[0],W=A[1],V=function(e){F||a(e)},z=(0,N.TA)({initialValues:{email:"",password:""},validate:O,onSubmit:function(){var r=(0,Z.Z)(k().mark((function r(n){var t;return k().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!F){r.next=2;break}return r.abrupt("return");case 2:return W(!0),r.next=5,T(n.email,n.password);case 5:if(t=r.sent,W(!1),"invalid_credentials"!=(null===t||void 0===t?void 0:t.user)){r.next=12;break}return v("Invalid Credentials"),r.abrupt("return");case 12:if("user_not_found"!=(null===t||void 0===t?void 0:t.user)){r.next=17;break}return v("Email Not Found. Please Register."),r.abrupt("return");case 17:if("unauthorized"!=(null===t||void 0===t?void 0:t.user)){r.next=22;break}return alert(D),r.abrupt("return");case 22:if("not_verified"!=(null===t||void 0===t?void 0:t.user)){r.next=25;break}return Y(n.email,n.password),r.abrupt("return");case 25:if(null===t||void 0===t||!t.success){r.next=30;break}return e(null===t||void 0===t?void 0:t.user),r.abrupt("return");case 30:return alert(D),r.abrupt("return");case 32:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}),Y=function(e,r){F||(l(e),d(r),V("verify_email"))},$=function(e){F||(l(e),V("reset_password"))},U=(0,N.TA)({initialValues:{email:"",name:"",companyName:"",clubName:"",contactNumber:"880",password:"",confirmPassword:""},validate:M,onSubmit:function(){var e=(0,Z.Z)(k().mark((function e(r){var n,t;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!F){e.next=2;break}return e.abrupt("return");case 2:return n={email:r.email,name:r.name,company_name:r.companyName,club_name:r.clubName,contact_number:r.contactNumber,password:r.password,confirm_password:r.confirmPassword},W(!0),e.next=6,_(n);case 6:if(t=e.sent,W(!1),t.success){e.next=11;break}return alert("Some went wrong. Please try again."),e.abrupt("return");case 11:if("user_not_created"!=(null===t||void 0===t?void 0:t.response)){e.next=14;break}return alert("Some went wrong. Please try again."),e.abrupt("return");case 14:if("user_already_exists"!=(null===t||void 0===t?void 0:t.response)){e.next=17;break}return f(!0),e.abrupt("return");case 17:if("not_verified"!=(null===t||void 0===t?void 0:t.response)){e.next=20;break}return Y(r.email,r.password),e.abrupt("return");case 20:alert("Something went wrong. Please try again.");case 21:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()}),G=(0,N.TA)({initialValues:{code:""},validate:J,onSubmit:function(){var r=(0,Z.Z)(k().mark((function r(n){var t,a;return k().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!F){r.next=2;break}return r.abrupt("return");case 2:return W(!0),r.next=5,B(s,c,n.code);case 5:if(t=r.sent,a=t.response,W(!1),null!==a&&void 0!==a&&a.verified){r.next=22;break}if("invalid_code"!=(null===a||void 0===a?void 0:a.status)){r.next=13;break}return console.log("yay"),w("Code did not match!"),r.abrupt("return");case 13:if("time_over"!=(null===a||void 0===a?void 0:a.status)){r.next=17;break}return w("Time over! We have senet the verification code to your mail, ".concat(s,". Please enter it again.")),G.resetForm(),r.abrupt("return");case 17:if("code_not_set"!=(null===a||void 0===a?void 0:a.status)){r.next=21;break}return V("signin"),alert("Please login again!"),r.abrupt("return");case 21:return r.abrupt("return");case 22:e(null===a||void 0===a?void 0:a.user);case 23:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}),Q=(0,N.TA)({initialValues:{email:""},validate:H,onSubmit:function(){var e=(0,Z.Z)(k().mark((function e(r){var n,t,a;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!F){e.next=2;break}return e.abrupt("return");case 2:return W(!0),e.next=5,L(r.email);case 5:if(n=e.sent,t=n.success,a=n.response,W(!1),t){e.next=12;break}return alert("Some went wrong. Please try again."),e.abrupt("return");case 12:if("user_not_found"!=a){e.next=15;break}return C("Email not found. Please make sure you have already registered your email with us."),e.abrupt("return");case 15:if("sent"!=a){e.next=18;break}return $(r.email),e.abrupt("return");case 18:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()}),K=(0,N.TA)({initialValues:{code:"",password:"",confirmPassword:""},validate:q,onSubmit:function(){var e=(0,Z.Z)(k().mark((function e(r){var n,t,a;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!F){e.next=2;break}return e.abrupt("return");case 2:return W(!0),e.next=5,I(s,r.code,r.password,r.confirmPassword);case 5:if(n=e.sent,t=n.response,a=n.success,W(!1),a){e.next=12;break}return alert("Some went wrong. Please try again."),e.abrupt("return");case 12:if("user_not_found"!=t){e.next=15;break}return E("Email not found. Please make sure you have already registered your email with us."),e.abrupt("return");case 15:if("invalid_code"!=t){e.next=18;break}return E("Invalid Verification Code."),e.abrupt("return");case 18:if("time_over"!=t){e.next=21;break}return E("Your verification code has expired. We have sent another verficiation code to your email."),e.abrupt("return");case 21:if("something_went_wrong"!=t&&"code_not_set"!=t){e.next=25;break}return alert(D),V("signin"),e.abrupt("return");case 25:if("password_changed"!=t){e.next=29;break}return alert("Success!"),V("signin"),e.abrupt("return");case 29:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()});return{currentTab:t,setCurrentTab:V,signinFormik:z,email:s,password:c,signupFormik:U,userAlreadyExists:h,verifyEmailFormik:G,forgotPasswordFormik:Q,resetPasswordFormik:K,signinTabError:g,verifyEmailTabError:b,forgotPasswordTabError:j,resetPasswordTabError:S,resendPasswordResetMail:function(e){F||"reset_password"===t&&L(e)},resendEmailVerifyMail:function(e,r){F||function(e,r){R.apply(this,arguments)}(e,r)},isLoading:F}}function O(e){var r,n={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(n.email="Invalid Email Format."):n.email="Email Required",(!e.password||(null===(r=e.password)||void 0===r?void 0:r.length)<8)&&(n.password="Password has to be atleast 8 characters long."),n}function M(e){var r,n,t={};e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid Email Format."):t.email="Email Required",(!e.password||(null===(r=e.password)||void 0===r?void 0:r.length)<8)&&(t.password="Password has to be atleast 8 characters long."),e.confirmPassword?e.confirmPassword!=e.password&&(t.confirmPassword="Passwords do not match."):t.confirmPassword="Confirm password can not be empty.";return(!e.name||(null===(n=e.name)||void 0===n?void 0:n.length)<=8)&&(t.name="Full Name has to be atleast ".concat(8," characters long.")),e.companyName||(t.companyName="Company name cannot be empty."),e.clubName||(t.clubName="Club name cannot be empty."),e.contactNumber||(t.contactNumber="Phone number can not be empty."),13!=e.contactNumber.length&&(t.contactNumber="Invalid phone number."),t}var J=function(e){var r={};return e.code||(r.code="Verification code cannot be empty."),r},H=function(e){var r={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(r.email="Invalid Email Format."):r.email="Email Required",r};function q(e){var r,n={};return e.code||(n.code="Verification code cannot be empty."),(!e.password||(null===(r=e.password)||void 0===r?void 0:r.length)<=8)&&(n.password="Password has to be atleast 8 characters long."),e.confirmPassword?e.confirmPassword!=e.password&&(n.confirmPassword="Passwords do not match."):n.confirmPassword="Confirm password can not be empty.",n}var Y=n(6334),$=n(282),U=n(6579),G=n(4699),Q=n(4670),K=n(7748),X=n(6398),ee=n(3316),re=function(){var e=(0,i.useState)(""),r=e[0],n=e[1],a=(0,ee.Z)("user",""),o=(0,G.Z)(a,1)[0];return(0,i.useEffect)((function(){o||S()({method:"get",url:"/api/auth/google?get=link"}).then((function(e){n(e.data.url)}))}),[]),(0,t.jsx)(ne,{children:(0,t.jsx)("a",{href:"".concat(r),style:{textDecoration:"none"},target:"_blank",children:(0,t.jsx)(X.ZP,{label:r?"Continue with Google":"Loading..."})})})},ne=(0,Q.Z)({root:{}})(K.Z);(0,Q.Z)({root:{color:"white",textTransform:"capitalize"}})(b.Z);function te(){var e=(0,i.useContext)(w),r=e.signinFormik,n=e.signinTabError,a=e.setCurrentTab,o=ae();return(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:o.googleButtonContainer,children:(0,t.jsx)(re,{})}),(0,t.jsxs)("form",{onSubmit:r.handleSubmit,children:[(0,t.jsx)(Y.Z,{fullWidth:!0,margin:"normal",variant:"outlined",id:"email",name:"email",label:"Email",value:r.values.email,onChange:r.handleChange,error:r.touched.email&&Boolean(r.errors.email),helperText:r.touched.email&&r.errors.email}),(0,t.jsx)(U.Z,{value:r.values.password,handleChange:r.handleChange,touched:r.touched.password,error:r.errors.password}),n&&(0,t.jsx)(b.Z,{variant:"subtitle2",color:"error",children:n}),(0,t.jsx)(b.Z,{variant:"subtitle2",style:{margin:"0.5rem 0"},children:(0,t.jsx)("a",{style:{textDecoration:"underline",cursor:"pointer"},onClick:function(){a("forgot_password")},children:"Forgot password?"})}),(0,t.jsx)($.Z,{variant:"contained",fullWidth:!0,type:"submit",style:{marginTop:"0.5rem",backgroundColor:"#3f51b5",color:"white"},children:"Login"})]}),(0,t.jsxs)(b.Z,{variant:"subtitle2",style:{margin:"1rem 0 0 0"},children:["Dont have an account?"," ",(0,t.jsx)("a",{style:{textDecoration:"underline",cursor:"pointer"},onClick:function(){a("signup")},children:"Create Account"})]})]})}var ae=(0,o.Z)({googleButtonContainer:{margin:"1rem 0",display:"flex",width:"100%",justifyContent:"center"}}),ie=n(6814);function oe(){var e=(0,i.useState)(!1),r=e[0],n=e[1],t=(0,i.useState)(30),a=t[0],o=t[1];(0,i.useEffect)((function(){setInterval((function(){a>0&&o((function(e){return e-1}))}),1e3)}),[]),(0,i.useEffect)((function(){a<2&&n(!0)}),[a]);return{showResendLink:r,secondsRemaining:a,handleSend:function(){n(!1),o(30)}}}function se(e){(0,ie.Z)(e);var r=(0,i.useContext)(w),n=r.email,a=r.password,o=r.verifyEmailFormik,s=r.verifyEmailTabError,l=r.resendEmailVerifyMail,u=le(),c=oe(),d=c.showResendLink,m=c.secondsRemaining,h=c.handleSend;return(0,t.jsxs)("div",{className:u.container,children:[(0,t.jsx)(b.Z,{variant:"h6",style:{textAlign:"center"},children:"Email Verification."}),(0,t.jsxs)(b.Z,{variant:"subtitle1",style:{textAlign:"center",lineHeight:"1.3rem",margin:"0.5rem 0"},children:["Your email is not verified by us yet. Dont worry, we have sent a verification code to your email, ",(0,t.jsx)("b",{children:n}),". Please enter the code below to verify your account and start your journey!"]}),(0,t.jsxs)("form",{onSubmit:o.handleSubmit,children:[(0,t.jsx)(Y.Z,{fullWidth:!0,margin:"normal",variant:"outlined",id:"code",name:"code",label:"Verification Code",value:o.values.code,onChange:o.handleChange,error:o.touched.code&&Boolean(o.errors.code),helperText:o.touched.code&&o.errors.code}),s&&(0,t.jsx)(b.Z,{variant:"subtitle2",color:"error",children:s}),(0,t.jsx)($.Z,{variant:"contained",fullWidth:!0,type:"submit",style:{marginTop:"0.5rem",backgroundColor:"#3f51b5",color:"white"},children:"Verify"})]}),(0,t.jsxs)(b.Z,{variant:"subtitle2",style:{margin:"1rem 0 0 0"},children:["Did not get the mail?"," ",d?(0,t.jsx)("a",{style:{textDecoration:"underline",cursor:"pointer"},onClick:function(){l(n,a),h()},children:"Resend Verfication Code"}):"You can retry in ".concat(m," ").concat(m>1?"seconds":"second")]})]})}var le=(0,o.Z)({container:{}});function ue(){var e=(0,i.useContext)(w),r=e.signupFormik,n=e.userAlreadyExists,a=e.setCurrentTab,o=ce();return(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:o.googleButtonContainer,children:(0,t.jsx)(re,{})}),(0,t.jsxs)(b.Z,{variant:"subtitle2",style:{margin:"1rem 0 0 0"},children:["Already have an account?"," ",(0,t.jsx)("a",{style:{textDecoration:"underline",cursor:"pointer"},onClick:function(){a("signin")},children:"Log In"})]}),(0,t.jsxs)("form",{onSubmit:r.handleSubmit,children:[(0,t.jsx)(Y.Z,{fullWidth:!0,margin:"normal",variant:"outlined",id:"email",name:"email",label:"Email",value:r.values.email,onChange:r.handleChange,error:r.touched.email&&Boolean(r.errors.email),helperText:r.touched.email&&r.errors.email}),(0,t.jsx)(Y.Z,{fullWidth:!0,margin:"normal",variant:"outlined",id:"name",name:"name",label:"Full Name",value:r.values.name,onChange:r.handleChange,error:r.touched.name&&Boolean(r.errors.name),helperText:r.touched.name&&r.errors.name}),(0,t.jsx)(Y.Z,{fullWidth:!0,margin:"normal",variant:"outlined",id:"companyName",name:"companyName",label:"Company Name",value:r.values.companyName,onChange:r.handleChange,error:r.touched.companyName&&Boolean(r.errors.companyName),helperText:r.touched.companyName&&r.errors.companyName}),(0,t.jsx)(Y.Z,{fullWidth:!0,margin:"normal",variant:"outlined",id:"clubName",name:"clubName",label:"Club Name",value:r.values.clubName,onChange:r.handleChange,error:r.touched.clubName&&Boolean(r.errors.clubName),helperText:r.touched.clubName&&r.errors.clubName}),(0,t.jsx)(Y.Z,{fullWidth:!0,margin:"normal",variant:"outlined",id:"contactNumber",name:"contactNumber",label:"Phone Number",value:r.values.contactNumber,onChange:function(e){e.target.value&&e.target.value.startsWith("880",0)&&Number.isInteger(parseInt(e.target.value[e.target.value.length-1]))&&(e.target.value.length>13||r.handleChange(e))},error:r.touched.contactNumber&&Boolean(r.errors.contactNumber),helperText:r.touched.contactNumber&&r.errors.contactNumber}),(0,t.jsx)(b.Z,{variant:"subtitle2",children:"*Setting a strong password is important for your data security!"}),(0,t.jsx)(U.Z,{value:r.values.password,handleChange:r.handleChange,touched:r.touched.password,error:r.errors.password}),(0,t.jsx)(U.Z,{value:r.values.confirmPassword,handleChange:r.handleChange,touched:r.touched.confirmPassword,error:r.errors.confirmPassword,id:"confirmPassword",label:"Confirm Password"}),n&&(0,t.jsx)(b.Z,{variant:"subtitle2",color:"error",children:"There is already a user associated with this email. Please login."}),(0,t.jsx)($.Z,{variant:"contained",fullWidth:!0,type:"submit",style:{marginTop:"0.5rem",backgroundColor:"#3f51b5",color:"white"},children:"Register"})]})]})}var ce=(0,o.Z)({button:{backgroundColor:"#000566",marginTop:"0.5rem"},googleButtonContainer:{margin:"1rem 0",display:"flex",width:"100%",justifyContent:"center"}});function de(e){(0,ie.Z)(e);var r=(0,i.useContext)(w),n=r.forgotPasswordFormik,a=r.forgotPasswordTabError,o=me();return(0,t.jsxs)("div",{className:o.container,children:[(0,t.jsx)(b.Z,{variant:"h6",style:{textAlign:"center"},children:"Password Reset."}),(0,t.jsx)(b.Z,{variant:"subtitle1",style:{textAlign:"center",lineHeight:"1.3rem",margin:"0.5rem 0"},children:"Please enter your email so we can send a verification code to your email."}),(0,t.jsxs)("form",{onSubmit:n.handleSubmit,children:[(0,t.jsx)(Y.Z,{fullWidth:!0,margin:"normal",variant:"outlined",id:"email",name:"email",label:"Email",value:n.values.email,onChange:n.handleChange,error:n.touched.email&&Boolean(n.errors.email),helperText:n.touched.email&&n.errors.email}),a&&(0,t.jsx)(b.Z,{variant:"subtitle2",color:"error",children:a}),(0,t.jsx)($.Z,{variant:"contained",fullWidth:!0,type:"submit",style:{marginTop:"0.5rem",backgroundColor:"#3f51b5",color:"white"},children:"Send Code"})]})]})}var me=(0,o.Z)({container:{}});function he(){var e=(0,i.useContext)(w),r=e.resetPasswordFormik,n=e.email,a=e.resetPasswordTabError,o=e.resendPasswordResetMail,s=oe(),l=s.showResendLink,u=s.secondsRemaining,c=s.handleSend;return(0,t.jsxs)("div",{children:[(0,t.jsx)(b.Z,{variant:"h6",style:{textAlign:"center"},children:"Password Reset"}),(0,t.jsxs)(b.Z,{variant:"subtitle1",style:{textAlign:"center",lineHeight:"1.3rem",margin:"0.5rem 0"},children:["We have sent a verification code to your email, ",(0,t.jsx)("b",{children:n}),". Please enter the code below to change your account's password."]}),(0,t.jsxs)("form",{onSubmit:r.handleSubmit,children:[(0,t.jsx)(Y.Z,{fullWidth:!0,margin:"normal",variant:"outlined",id:"code",name:"code",label:"Verfication Code",value:r.values.code,onChange:r.handleChange,error:r.touched.code&&Boolean(r.errors.code),helperText:r.touched.code&&r.errors.code}),(0,t.jsx)(b.Z,{variant:"subtitle2",children:"*Setting a strong password is important for your data security!"}),(0,t.jsx)(U.Z,{value:r.values.password,handleChange:r.handleChange,touched:r.touched.password,error:r.errors.password}),(0,t.jsx)(U.Z,{value:r.values.confirmPassword,handleChange:r.handleChange,touched:r.touched.confirmPassword,error:r.errors.confirmPassword,id:"confirmPassword",label:"Confirm Password"}),a&&(0,t.jsx)(b.Z,{variant:"subtitle2",color:"error",children:a}),(0,t.jsx)($.Z,{variant:"contained",fullWidth:!0,type:"submit",style:{marginTop:"0.5rem",backgroundColor:"#3f51b5",color:"white"},children:"Change Password"})]}),(0,t.jsxs)(b.Z,{variant:"subtitle2",style:{margin:"1rem 0 0 0"},children:["Did not get the mail?"," ",l?(0,t.jsx)("a",{style:{textDecoration:"underline",cursor:"pointer"},onClick:function(){o(n),c()},children:"Resend Verfication Code"}):"You can retry in ".concat(u," ").concat(u>1?"seconds":"second")]})]})}function fe(e){var r=e.isOpen,n=e.closeModal,a=z((0,i.useContext)(v.Z).setUser),o=a.currentTab,l=a.setCurrentTab,u=a.signinFormik,c=a.signupFormik,d=a.userAlreadyExists,m=a.email,h=a.password,f=a.verifyEmailFormik,p=a.forgotPasswordFormik,g=a.resetPasswordFormik,b=a.signinTabError,j=a.verifyEmailTabError,C=a.forgotPasswordTabError,k=a.resetPasswordTabError,Z=a.resendPasswordResetMail,N=a.resendEmailVerifyMail,P=a.isLoading,S=pe();return(0,t.jsx)(x.Z,{"aria-labelledby":"customized-dialog-title",open:r,disableBackdropClick:!1,onBackdropClick:function(){P||n()},children:(0,t.jsx)(w.Provider,{value:{currentTab:o,setCurrentTab:l,signinFormik:u,signupFormik:c,userAlreadyExists:d,email:m,password:h,verifyEmailFormik:f,forgotPasswordFormik:p,resetPasswordFormik:g,signinTabError:b,verifyEmailTabError:j,forgotPasswordTabError:C,resetPasswordTabError:k,resendPasswordResetMail:Z,resendEmailVerifyMail:N},children:(0,t.jsxs)("div",{className:S.container,children:["verify_email"!==o&&"reset_password"!==o&&(0,t.jsx)(y,{}),P&&(0,t.jsx)("div",{style:{width:"100%"},children:(0,t.jsx)(s.Z,{})}),(0,t.jsxs)("div",{className:S.tabContainer,children:["signin"===o&&(0,t.jsx)(te,{}),"signup"===o&&(0,t.jsx)(ue,{}),"verify_email"===o&&(0,t.jsx)(se,{}),"forgot_password"===o&&(0,t.jsx)(de,{}),"reset_password"===o&&(0,t.jsx)(he,{})]})]})})})}var pe=(0,o.Z)({container:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},tabContainer:{display:"flex",padding:"1rem",flexDirection:"column",alignItems:"center",justifyContent:"center"}}),ge=function(){var e=(0,i.useContext)(v.Z),r=e.user,n=e.setUser,a=(0,i.useState)(!1),o=a[0],s=a[1],l=(0,i.useState)(!1),c=l[0],d=l[1];(0,i.useEffect)((function(){r&&f()}),[r]);var m=ve({user:r}),h=function(){r&&s((function(e){return!e})),r||c||d(!0)},f=function(){d(!1)};return(0,t.jsxs)("div",{className:m.container,children:[(0,t.jsx)("p",{className:m.text,onClick:h,children:!r&&"Sign In"}),(0,t.jsx)("p",{className:m.text,onClick:h,children:r&&"".concat(r.name.toLowerCase())}),(0,t.jsx)(fe,{isOpen:c,closeModal:f}),r&&(0,t.jsx)("div",{className:m.arrow,onClick:h,children:o?(0,t.jsx)(p.Z,{color:"inherit"}):(0,t.jsx)(g.Z,{color:"inherit"})}),o&&(0,t.jsxs)("div",{className:m.collapseContainer,onClick:function(){o&&s(!1)},children:[(0,t.jsx)("div",{className:m.menuItem,children:(0,t.jsx)(u.default,{href:"/user/profile",children:(0,t.jsx)("a",{style:{textDecoration:"none"},children:(0,t.jsx)("div",{className:m.linkText,children:"Profile"})})})}),(0,t.jsx)("div",{className:m.menuItem,onClick:function(){return n(""),void location.reload()},children:(0,t.jsx)("div",{className:m.linkText,children:"Logout"})})]})]})},ve=(0,o.Z)({container:{display:"flex",alignItems:"center",textAlign:"center",justifyContent:"space-between",padding:"0.5rem 0.5rem 0.5rem 0.25rem",borderRadius:5,position:"relative",cursor:"pointer",backgroundColor:"inherit"},text:{color:"white",fontSize:18,fontWeight:function(e){return e.user?400:600},textTransform:"capitalize",textDecoration:"none",whiteSpace:"nowrap",overflow:"hidden"},googleLogoContainer:{marginRight:5,marginLeft:5,width:20,height:20,float:"left",display:"flex",alignItems:"center"},profilePic:{borderRadius:"50%",overflow:"hidden",height:40,width:40,display:"flex",alignItems:"center"},arrow:{color:"#3798A7",display:"flex",alignItems:"center",justifyContent:"center"},collapseContainer:{position:"absolute",top:50,right:0,zIndex:1e3,backgroundColor:"#003085",color:"white",width:"auto",display:"flex",flexDirection:"column"},menuItem:{width:"100%",height:"100%",padding:16,borderBottom:"1px solid white",color:"white",cursor:"pointer",textAlign:"center","&:hover":{borderBottom:"1px solid #3798A7"}},linkText:{color:"white","&:hover":{color:"#3798A7"}}}),xe=n(155),be=(0,o.Z)({topbarContainer:{position:"fixed",top:0,left:0,right:0,height:100,borderBottomRightRadius:15,display:"flex",justifyContent:"space-between",alignItems:"center",paddingLeft:"2.5%",paddingRight:"2.5%",zIndex:xe.Z.normal,background:"transparent linear-gradient(180deg, #003EAA 0%, #002461E0 100%) 0% 0% no-repeat padding-box"},placeholder:{position:"relative",top:0,left:0,marginRight:100,width:"100%",height:100,background:"transparent linear-gradient(180deg, #000266 0%, #032C73 57%, #00163B 100%, #003A67 100%) 0% 0% no-repeat padding-box"},outerContainer:{display:"flex",flexDirection:"column"},mobileNavItems:(0,a.Z)({backgroundColor:"rgba(0, 34, 94, 0.8)",padding:"0.5rem 1rem",color:"white",position:"fixed",top:100,left:0,right:0,zIndex:40},"@media (min-width: 700px)",{display:"none"}),pcNavItems:(0,a.Z)({width:"60%"},"@media (max-width: 700px)",{display:"none"})}),we=function(){var e=(0,i.useState)(!1),r=e[0],n=e[1],a=be();return(0,t.jsxs)("div",{className:a.outerContainer,children:[(0,t.jsx)("div",{className:a.placeholder}),r&&(0,t.jsx)(s.Z,{color:"primary"}),(0,t.jsxs)("div",{className:a.outerContainer,children:[(0,t.jsxs)("div",{className:a.topbarContainer,children:[(0,t.jsx)("div",{children:(0,t.jsx)(l.default,{src:"/assets/new_logo.png",alt:"Smartifier Logo",height:45,width:135})}),(0,t.jsx)("div",{className:a.pcNavItems,children:(0,t.jsx)(f,{setShowLoading:n})}),(0,t.jsx)(ge,{})]}),(0,t.jsx)("div",{className:a.mobileNavItems,children:(0,t.jsx)(f,{setShowLoading:n})})]})]})}},2370:function(e,r,n){"use strict";var t=n(7294);r.Z=(0,t.createContext)(null)},3316:function(e,r,n){"use strict";n.d(r,{Z:function(){return o}});var t=n(7294),a=n(6808),i=n.n(a);function o(e,r){var n=(0,t.useState)((function(){return s(e)})),a=n[0],i=n[1];(0,t.useEffect)((function(){var r=function(r){r.storageArea===localStorage&&r.key===e&&i(JSON.parse(r.newValue))};return window.addEventListener("storage",r),l()||setInterval((function(){JSON.stringify(c(e))!=JSON.stringify(a)&&i(c(e))}),500),function(){window.removeEventListener("storage",r)}}),[e]);return[a,function(r){i((function(n){var t=null;return t="function"===typeof r?r(n):r,l()?localStorage.setItem(e,JSON.stringify(t)):u(e,t),t}))}]}var s=function(e){if(l()){var r=localStorage.getItem(e);return r?JSON.parse(r):r}return c(e)},l=function(){return!0},u=function(e,r){i().set(e?JSON.stringify(e):e,r?JSON.stringify(r):r)},c=function(e){var r=i().get(JSON.stringify(e));return r?JSON.parse(r):r}},155:function(e,r){"use strict";r.Z={normal:50,high:100,higher:150,highest:200}}}]);